<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/ressources/templates/template.xhtml">
	<ui:define name="head">
		<title>#{i18n['general.parameter']}</title>
	</ui:define>
	<ui:define name="content">
		<div>
			<h3 style="text-align: left;">#{i18n['general.parameter']}</h3>
		</div>
		<p:separator />
		<h:form id="form">
			<p:panel header="#{userBean.userSession.userName}"
				style="width:80%; margin: auto;">
				<p:messages autoUpdate="true" />
				<h:panelGrid columns="2">
					<h:outputLabel value="#{i18n['user.mail']}" />
					<p:inputText id="mail" value="#{userBean.userSession.userMail}"
						required="true" placeholder="ex:mymail@gmail.com"
						validator="mailValidator" />
					<h:outputLabel for="oldpassword"
						value="#{i18n['user.old_password']}" />
					<p:password id="oldpassword" value="#{userBean.oldPassword}"
						required="true" />
						
					<h:outputLabel value="#{i18n['user.new_password']}" />
					<p:password value="#{userBean.newPassword}" required="true"
						match="passwordConfirm" />
					<h:outputLabel value="#{i18n['user.password_confirmation']}" />
					<p:password id="passwordConfirm" value="#{userBean.newPassword}"
						required="true" />
					<p:commandButton id="submit" value="#{i18n['general.submit']}"
						icon="fa fa-check" actionListener="#{userBean.updateUserSession}"
						update="@form" />
				</h:panelGrid>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>